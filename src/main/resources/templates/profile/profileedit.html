<!-- templates/profile/profileedit.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>프로필 수정</title>
    <style>
        body { font-family: sans-serif; margin: 2rem; }
        label { display: block; margin-top: 1rem; font-weight: bold; }
        input, textarea { width: 100%; padding: 0.5rem; margin-top: 0.3rem; }
        button { margin-top: 1.5rem; padding: 0.5rem 1rem; }
        ul { list-style: none; padding: 0; }
        li { margin: 0.5rem 0; }
        .skill-item { display: flex; align-items: center; gap: 0.5rem; }
    </style>
</head>
<body>
<h1>프로필 수정</h1>

<form th:action="@{/profile/edit}" method="post">
    <label>포지션</label>
    <input type="text" name="position" th:value="${profile.position}" />

    <label>소개글</label>
    <textarea name="bio" rows="5" th:text="${profile.bio}"></textarea>

    <label>기술 스택</label>
    <ul>
        <li th:each="skill : ${skills}" class="skill-item">
            <span th:text="${skill}"></span>
            <form th:action="@{/profile/skill/delete}" method="post" style="display:inline;">
                <input type="hidden" name="skill" th:value="${skill}" />
                <button type="submit">❌ 삭제</button>
            </form>
        </li>
    </ul>

    <input type="text" name="newSkill" placeholder="새 기술 추가" />
    <button formaction="/profile/skill/add" formmethod="post">➕ 추가</button>

    <br><br>
    <button type="submit">💾 저장</button>
    <a href="/profile"><button type="button">← 돌아가기</button></a>
</form>
</body>
</html>
